<!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Redlines Politi - Tryghed og Service</title>
    <style>
body {
    font-family: "Merriweather", "Georgia", serif;
    margin: 0;
    padding: 70px 80px 90px;
    background: linear-gradient(160deg, #0b1f2a 0%, #16344a 45%, #0f2a3a 100%);
    background-attachment: fixed;
    color: #eef3f8;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    -webkit-font-smoothing: antialiased;
}

header {
    background: #0b1f2a;
    color: #f2f6fb;
    padding: 16px 28px;
    box-shadow: 0 6px 18px rgba(8, 23, 33, 0.25);
}

nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
    max-width: 1200px;
    margin: 0 auto;
}

.logo {
    display: flex;
    align-items: center;
    font-size: 1.4em;
    font-weight: 700;
    letter-spacing: 0.5px;
    text-transform: uppercase;
}

.logo img {
    margin-right: 12px;
    width: 52px;
    height: 52px;
    border-radius: 10px;
    background: #f1c40f;
    padding: 6px;
}

nav ul {
    list-style: none;
    display: flex;
    margin: 0;
    padding: 0;
}

nav ul li {
    margin: 0 15px;
}

nav ul li a {
    color: #f2f6fb;
    text-decoration: none;
    font-family: "Space Grotesk", "Verdana", sans-serif;
    font-size: 0.95em;
    letter-spacing: 0.4px;
    transition: color 0.3s;
}

nav ul li a:hover {
    color: #f1c40f;
}

.auth {
    display: flex;
    align-items: center;
}

.auth a {
    color: #0b1f2a;
    text-decoration: none;
    margin-left: 15px;
    padding: 4px 10px;
    border: 1px solid transparent;
    border-radius: 32px;
    background: #f1c40f;
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
    transition: transform 0.2s, background 0.3s;
    font-family: "Space Grotesk", "Verdana", sans-serif;
    font-weight: 600;
}

.auth a:hover {
    background: #ffd84d;
    transform: translateY(-2px);
}

main {
    flex: 1;
    padding: 20px;
    text-align: center;
}

.hero {
    background: #f7f9fb;
    position: relative;
    overflow: hidden;
    min-height: 380px;
}

.hero-bg-rotator {
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    opacity: 0;
    z-index: 0;
    transition: opacity 1s;
    pointer-events: none;
}
.hero-bg-rotator.active {
    opacity: 0.22;
}
}

.hero-bg-img {
    position: absolute;
    opacity: 0.18;
    z-index: 0;
    pointer-events: none;
}
    padding: 60px 40px;
    border-radius: 18px;
    margin-bottom: 50px;
    box-shadow: 0 12px 30px rgba(13, 32, 45, 0.15);
    position: relative;
    overflow: hidden;
}

.hero::after {
    content: "";
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at top right, rgba(241, 196, 15, 0.25), transparent 55%);
    pointer-events: none;
}

.cta-button {
    display: inline-block;
    background-color: #0b1f2a;
    color: #f2f6fb;
    padding: 12px 22px;
    text-decoration: none;
    border-radius: 999px;
    transition: background-color 0.3s, transform 0.2s;
    font-weight: 700;
    font-family: "Space Grotesk", "Verdana", sans-serif;
}

.cta-button:hover {
    background-color: #132d3a;
    transform: translateY(-2px) scale(1.02);
}

.cta-secondary {
    background-color: #f1c40f;
    color: #0b1f2a;
    margin-left: 12px;
}

.cta-secondary:hover {
    background-color: #ffd84d;
}

.container {
    display: flex;
    flex: 1;
    gap: 20px;
    align-items: flex-start;
    animation: fadeIn 1.5s ease-out;
}

aside {
    width: 200px;
    background: #f7f9fb;
    padding: 20px;
    box-shadow: 2px 0 12px rgba(13, 32, 45, 0.12);
    border-radius: 16px;
    margin: 20px 0 20px 20px;
    animation: slideInLeft 1s ease-out;
    text-align: left;
}

aside h3 {
    margin-bottom: 15px;
    color: #0b1f2a;
    font-family: "Space Grotesk", "Verdana", sans-serif;
    letter-spacing: 0.5px;
}

aside ul {
    list-style: none;
    padding: 0;
}

aside ul li {
    margin-bottom: 10px;
}

aside ul li a {
    color: #1f2a33;
    text-decoration: none;
    display: block;
    padding: 5px;
    border-radius: 10px;
    transition: background-color 0.3s, color 0.3s;
    font-family: "Space Grotesk", "Verdana", sans-serif;
}

aside ul li a:hover {
    background: rgba(11, 31, 42, 0.08);
    color: #0b1f2a;
}
.side-panel {
    width: 220px;
    background: #f7f9fb;
    padding: 20px;
    box-shadow: 2px 0 12px rgba(13, 32, 45, 0.12);
    border-radius: 16px;
    margin: 20px 20px 20px 0;
    text-align: left;
}

.side-panel h3 {
    margin-bottom: 15px;
    color: #0b1f2a;
    font-family: "Space Grotesk", "Verdana", sans-serif;
    letter-spacing: 0.5px;
}

.side-panel ul {
    list-style: none;
    padding: 0;
}

.side-panel ul li {
    margin-bottom: 10px;
}

.side-panel ul li a {
    color: #1f2a33;
    text-decoration: none;
    display: block;
    padding: 5px;
    border-radius: 10px;
    transition: background-color 0.3s, color 0.3s;
    font-family: "Space Grotesk", "Verdana", sans-serif;
}

.side-panel ul li a:hover {
    background: rgba(11, 31, 42, 0.08);
    color: #0b1f2a;
}

section {
    margin-bottom: 40px;
    animation: fadeIn 1s ease-in;
}

section h2 {
    font-size: 2em;
    color: #fff;
    margin-bottom: 20px;
    font-family: "Space Grotesk", "Verdana", sans-serif;
    letter-spacing: 0.6px;
    text-shadow: 0 2px 8px rgba(0,0,0,0.28), 0 1px 0 #222;
}

h1 {
    font-size: 2.5em;
    margin-bottom: 20px;
    color: #0b1f2a;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.08);
    animation: fadeIn 1s ease-in;
}

section p {
    font-size: 1.2em;
    color: #1f2a33;
    max-width: 600px;
    margin: 0 auto;
    line-height: 1.6;
}

.news-item {
    background: #f7f9fb;
    padding: 15px;
    margin-bottom: 15px;
    border-radius: 12px;
    box-shadow: 0 6px 16px rgba(13, 32, 45, 0.12);
    text-align: left;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
}

.news-item h3 {
    margin-bottom: 10px;
    color: #0b1f2a;
    font-family: "Space Grotesk", "Verdana", sans-serif;
}

.news-item small {
    color: #3b4a55;
    font-family: "Space Grotesk", "Verdana", sans-serif;
}

.services-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
    max-width: 800px;
    margin: 0 auto;
}

.service-card {
    background: #f7f9fb;
    padding: 20px;
    border-radius: 14px;
    box-shadow: 0 6px 18px rgba(13, 32, 45, 0.12);
    transition: background 0.3s, transform 0.2s;
}

.service-card:hover {
    background: rgba(11, 31, 42, 0.05);
    transform: translateY(-2px);
}

.service-card h3 {
    color: #0b1f2a;
    margin-bottom: 10px;
    font-family: "Space Grotesk", "Verdana", sans-serif;
    margin-bottom: 10px;
}

.discord-section {
    margin-top: 40px;
    text-align: center;
}

.discord-section h2 {
    font-size: 2em;
    color: #0b1f2a;
    margin-bottom: 20px;
}

.discord-section iframe {
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

footer {
    background: #0b1f2a;
    color: #f2f6fb;
    text-align: center;
    padding: 20px;
    margin-top: auto;
    box-shadow: 0 -6px 18px rgba(13, 32, 45, 0.2);
    font-family: "Space Grotesk", "Verdana", sans-serif;
}

footer p {
    margin: 0;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

@keyframes slideInLeft {
    from { opacity: 0; transform: translateX(-100px); }
    to { opacity: 1; transform: translateX(0); }
}
@media (max-width: 900px) {
    .container {
        flex-direction: column;
    }
    aside,
    .side-panel {
        width: auto;
        margin: 20px 0;
    }
}

/* Cookie Banner Styles */
.cookie-banner {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background: #f7f9fb;
    border-top: 2px solid #0b1f2a;
    padding: 20px;
    box-shadow: 0 -6px 18px rgba(13, 32, 45, 0.18);
    z-index: 1000;
    display: none;
    animation: slideUp 0.5s ease-out;
}

.cookie-banner.show {
    display: block;
}

.cookie-content {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 20px;
}

.cookie-text {
    flex: 1;
    min-width: 300px;
}

.cookie-text h3 {
    color: #0b1f2a;
    margin-bottom: 10px;
    font-size: 1.2em;
    font-family: "Space Grotesk", "Verdana", sans-serif;
}

.cookie-text p {
    color: #1f2a33;
    line-height: 1.5;
    margin: 0;
}

.cookie-buttons {
    display: flex;
    gap: 10px;
    flex-shrink: 0;
}

.cookie-btn {
    padding: 8px 16px;
    border: none;
    border-radius: 25px;
    cursor: pointer;
    font-weight: bold;
    transition: all 0.3s;
}

.cookie-btn-accept {
    background-color: #0b1f2a;
    color: #f2f6fb;
}

.cookie-btn-accept:hover {
    background-color: #132d3a;
    transform: scale(1.05);
}

.cookie-btn-decline {
    background-color: #f5f5f5;
    color: #555;
    border: 1px solid #ddd;
}

.cookie-btn-decline:hover {
    background-color: #e0e0e0;
}

@keyframes slideUp {
    from { transform: translateY(100%); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}
    </style>
</head>
<body>
        <header>
        <nav>
            <div class="logo">
                <img src="politi.png" alt="Redlines Politi logo">
                Redlines Politi
            </div>
            <ul>
                <li><a href="#home">Forside</a></li>
                <li><a href="#news">Nyheder</a></li>
                <li><a href="polintra-news.html" target="_blank">Åbn nyheder (ledere)</a></li>
                <li><a href="#services">Tjenester</a></li>
                <li><a href="polintra.html">POLintra</a></li>
                <li><a href="#contact">Kontakt</a></li>
            </ul>
            <div class="auth">
                <a href="/auth/discord" style="display: flex; align-items: center; gap: 8px; background: #5865F2; color: #fff; border: none; margin-right: 10px; padding: 6px 18px; border-radius: 32px; font-weight: 600; font-size: 1em; box-shadow: 0 2px 8px rgba(88,101,242,0.15); transition: background 0.2s;">
                    <img src="Discord.png" alt="Discord" style="height: 28px; width: 28px; vertical-align: middle; margin-right: 4px;"> Log ind med Discord
                </a>
                <a href="#contact">Akut 112</a>
            </div>
        </nav>
    </header>

    <div class="container">
                <aside>
            <h3>Genveje</h3>
            <ul>
                <li><a href="#home">Forside</a></li>
                <li><a href="#news">Nyheder</a></li>
                <li><a href="polintra-news.html" target="_blank">Åbn nyheder (ledere)</a></li>
                <li><a href="opret-sag.html">Klage</a></li>
                <li><a href="#services">Pas og ID</a></li>
                <li><a href="polintra.html">POLintra</a></li>
                <li><a href="#contact">Borgerservice</a></li>
            </ul>
        </aside>

        <main>
            <section id="home">
                <div class="hero">
                    <img src="politi.png" alt="Redlines Politi logo" style="width: 200px; height: auto; margin-bottom: 20px; position: relative; z-index: 1;">
                    <h1 style="position: relative; z-index: 1;">Tryghed på Redline</h1>
                    <img src="1.png" class="hero-bg-rotator active" id="hero-bg-1" alt="bg1">
                    <img src="2.png" class="hero-bg-rotator" id="hero-bg-2" alt="bg2">
                    <img src="3.png" class="hero-bg-rotator" id="hero-bg-3" alt="bg3">
                    <img src="4.webp" class="hero-bg-rotator" id="hero-bg-4" alt="bg4">
                    <img src="5.webp" class="hero-bg-rotator" id="hero-bg-5" alt="bg5">
                    <img src="6.webp" class="hero-bg-rotator" id="hero-bg-6" alt="bg6">
                    <p>Vi arbejder for sikkerhed, service og et trygt byliv. Her finder du vejledning, kontakt og aktuelle indsatser.</p>
                    <a href="opret-sag.html" class="cta-button">Klage</a>
                    <a href="opret-sag.html" class="cta-button cta-secondary">Opret sag</a>
                    <div class="main-buttons" style="margin-top: 15px;">
                        <a href="polintra.html" class="main-btn" style="display: inline-block; background: #0b1f2a; color: #f2f6fb; padding: 10px 20px; text-decoration: none; border-radius: 999px; transition: background-color 0.3s, transform 0.2s; font-weight: 700; font-family: 'Space Grotesk', 'Verdana', sans-serif;">POLINTRA</a>
                    </div>
                </div>
            </section>

            <section id="news">
                <h2>Nyheder</h2>
                <div id="public-news"></div>
            </section>

            <section id="services">
                <h2>Tjenester</h2>
                <div class="services-grid">
                    <div class="service-card">
                        <h3>Klage</h3>
                        <p>Opret en klage online eller ring ved akut behov.</p>
                    </div>
                    <div class="service-card">
                        <h3>Pas og ID</h3>
                        <p>Book tid og se krav til pas, kørekort og legitimation.</p>
                    </div>
                    <div class="service-card">
                        <h3>Trafik og kontrol</h3>
                        <p>Information om hastighed, kørsel og lokale kontroller.</p>
                    </div>
                </div>
            </section>

            <section id="contact">
                <h2>Kontakt</h2>
                <p>Har du brug for politiet? Ring 112 ved akut fare. Ved ikke-akutte henvendelser kan du ringe 114 eller skrive via kontaktformularen.</p>
                <div style="margin: 20px 0; text-align: center;">
                    <p><strong>Email:</strong> <a href="mailto:info@politi.dk">info@politi.dk</a></p>
                    <p><strong>Telefon:</strong> <a href="tel:114">114 (ikke akut)</a></p>
                    <p><strong>Akut:</strong> <a href="tel:112">112</a></p>
                </div>
                <img src="politi.png" alt="Kontakt" style="width: 150px; height: auto; margin-top: 20px;">
            </section>


        </main>
        <aside class="side-panel">
            <h3>Genveje</h3>
            <ul>
                <li><a href="polintra.html">POLintra</a></li>
                <li><a href="polintra.html#tab-drift">Medarbejdere</a></li>
                <li><a href="opret-sag.html">Opret sag</a></li>
                <li><a href="polsas.html">POLSAS</a></li>
                <li><a href="#contact">Kontakt</a></li>
            </ul>
        </aside>
    </div>

    <footer>
        <p>&copy; 2026 Redlines Politi. Alle rettigheder forbeholdes.</p>
    </footer>

    <!-- Cookie Consent Banner -->
    <div id="cookie-banner" class="cookie-banner">
        <div class="cookie-content">
            <div class="cookie-text">
                <h3>Cookies på denne hjemmeside</h3>
                <p>Vi bruger cookies for at forbedre din oplevelse, analysere trafik og sikre stabile tjenester. Nogle cookies er nødvendige for at hjemmesiden fungerer korrekt, mens andre hjælper os med at forstå, hvordan siden bruges, så vi kan gøre den bedre. Ved at acceptere cookies giver du samtykke til vores brug af både nødvendige og statistiske cookies. Du kan til enhver tid ændre dine cookie-indstillinger.</p>
            </div>
            <div class="cookie-buttons">
                <button id="accept-cookies" class="cookie-btn cookie-btn-accept">Accepter</button>
                <button id="decline-cookies" class="cookie-btn cookie-btn-decline">Afvis</button>
            </div>
        </div>
    </div>

    <script>
        // Hero background rotator
        document.addEventListener('DOMContentLoaded', function() {
            const bgIds = ['hero-bg-1', 'hero-bg-2', 'hero-bg-3', 'hero-bg-4', 'hero-bg-5', 'hero-bg-6'];
            let idx = 0;
            setInterval(() => {
                bgIds.forEach((id, i) => {
                    const el = document.getElementById(id);
                    if (el) el.classList.toggle('active', i === idx);
                });
                idx = (idx + 1) % bgIds.length;
            }, 3500);
        });
        // Cookie consent functionality
        document.addEventListener('DOMContentLoaded', function() {
            const cookieBanner = document.getElementById('cookie-banner');
            const acceptBtn = document.getElementById('accept-cookies');
            const declineBtn = document.getElementById('decline-cookies');
            const publicNewsContainer = document.getElementById('public-news');
            const NEWS_KEY = 'polintra-news';


            // Vis kun banner hvis ikke accepteret/afvist før
            if (!localStorage.getItem('cookiesAccepted') && !localStorage.getItem('cookiesDeclined')) {
                cookieBanner.classList.add('show');
            }

            // Handle accept button

            acceptBtn.addEventListener('click', function() {
                cookieBanner.classList.remove('show');
                localStorage.setItem('cookiesAccepted', 'true');
                // Her kan du aktivere analytics mv.
                console.log('Cookies accepted');
            });

            // Handle decline button

            declineBtn.addEventListener('click', function() {
                cookieBanner.classList.remove('show');
                localStorage.setItem('cookiesDeclined', 'true');
                // Her kan du deaktivere ikke-nødvendige cookies
                console.log('Cookies declined');
            });

            const seedDefaultNews = () => {
                const seeded = [
                    {
                        id: Date.now(),
                        title: 'Velkomst fra ledelsen',
                        body: 'Nyheder kan nu oprettes og styres af ledelsen via POLintra.',
                        author: 'Ledelsen',
                        role: 'Administrator',
                        createdAt: new Date().toISOString(),
                        pin: false
                    }
                ];
                localStorage.setItem(NEWS_KEY, JSON.stringify(seeded));
                return seeded;
            };

            const pruneNews = (items) => {
                const now = Date.now();
                const cutoff = 1000 * 60 * 60 * 24 * 2;
                const filtered = items.filter((n) => {
                    if (!n.createdAt) return false;
                    const age = now - new Date(n.createdAt).getTime();
                    return age <= cutoff;
                });
                if (filtered.length !== items.length) {
                    localStorage.setItem(NEWS_KEY, JSON.stringify(filtered));
                }
                return filtered;
            };

            const renderPublicNews = () => {
                if (!publicNewsContainer) return;
                let list = [];
                try {
                    list = JSON.parse(localStorage.getItem(NEWS_KEY) || '[]');
                } catch (err) {
                    list = [];
                }
                list = list.length ? list : seedDefaultNews();
                list = pruneNews(list);

                if (!list.length) {
                    publicNewsContainer.innerHTML = '<div class="news-item"><p>Ingen nyheder lige nu.</p></div>';
                    return;
                }

                publicNewsContainer.innerHTML = list
                    .map((item) => {
                        const dateText = item.createdAt ? new Date(item.createdAt).toLocaleDateString('da-DK') : '';
                        return `
                            <div class="news-item">
                                <h3>${item.title}</h3>
                                <p>${item.body || ''}</p>
                                <small>${item.author || 'POLintra'}${item.role ? ' (' + item.role + ')' : ''}${dateText ? ' - ' + dateText : ''}</small>
                            </div>
                        `;
                    })
                    .join('');
            };

            renderPublicNews();
        });
        // Simpel login/betjent-check (tilpas til din session-håndtering)
        function isBetjent() {
            // Her skal du tjekke session/rolle, fx window.sessionUser && window.sessionUser.role === 'betjent'
            return window.sessionUser && window.sessionUser.role === 'betjent';
        }
        
        // Hent brugerdata og vis Discord-profil
        async function loadDiscordUser() {
            try {
                const res = await fetch('/api/user');
                const user = await res.json();
                if (user) {
                    const authDiv = document.querySelector('.auth');
                    if (authDiv) {
                        authDiv.innerHTML = `
                            <div style="display: flex; align-items: center; gap: 12px; padding: 8px 16px; background: rgba(88, 101, 242, 0.1); border-radius: 32px; border: 1px solid #5865F2;">
                                <img src="${user.avatar_url}" alt="${user.username}" style="width: 36px; height: 36px; border-radius: 50%; border: 2px solid #5865F2;">
                                <span style="color: #fff; font-weight: 600;">${user.username}</span>
                            </div>
                        `;
                    }
                }
            } catch (err) {
                console.error('Fejl ved hentning af brugerdata:', err);
            }
        }
        
        function renderMainButtons() {
            const container = document.querySelector('.main-buttons');
            container.innerHTML = '<a href="polintra.html" class="main-btn">POLINTRA</a>';
            if (isBetjent()) {
                container.innerHTML += '<a href="hurtig-polsas.html" class="main-btn" style="margin-left:10px;background:#e74c3c;color:#fff;">Hurtig POLSAS</a>';
            }
        }
        
        document.addEventListener('DOMContentLoaded', () => {
            renderMainButtons();
            loadDiscordUser();
        });
    </script>
</body>
</html>










